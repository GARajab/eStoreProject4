
{% extends 'base.html' %}
{% block content %}
<title>Order List</title>
</head>
<body>
    {% if orders %}  <!-- Check if there are any orders -->
                <table class="table align-middle mb-0 bg-white">
        <thead class="bg-light">
            <tr>
            <th>Order ID</th>
                    <th>User</th>
                    <th>Total Price</th>
                    <th>Status</th>
                    <th>Created At</th>
                    <th>Order Items</th>
            </tr>
        </thead>
        <tbody>
            {% for order in orders %} 
            <tr>
                <td>{{ order.id }}</td>
            <td>
                <div class="d-flex align-items-center">
                <img
                    src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                    alt=""
                    style="width: 45px; height: 45px"
                    class="rounded-circle"
                    />
                <div class="ms-3">
                    <p class="fw-bold mb-1">{{ order.user.username }}</p>
                    <p class="text-muted mb-0">{{ order.user.email }}</p>
                </div>
                </div>
            </td>
            <td>
                <p class="fw-normal mb-1">{{ order.total_price }}</p>
            </td>
            <td>
                <span class="badge badge-warning rounded-pill d-inline">{{ order.status }}</span>
            </td>
            <td>{{ order.created_at }}</td>
            <td>
                <ul>
                    {% for item in order.items.all %}
                    <li>{{ item.quantity }} x {{ item.product }}</li>
                    {% endfor %}
                </ul> 
        </tbody>
        {% endfor %}
        </table>
    {% else %}
        <p>No orders found.</p>
    {% endif %}
</body>
</html>{%endblock%}